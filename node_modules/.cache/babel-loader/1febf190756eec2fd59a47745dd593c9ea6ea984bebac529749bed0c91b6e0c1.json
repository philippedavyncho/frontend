{"ast":null,"code":"import _objectSpread from\"/data/data/com.termux/files/home/deploy/exo_com/front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/data/data/com.termux/files/home/deploy/exo_com/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/data/data/com.termux/files/home/deploy/exo_com/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/data/data/com.termux/files/home/deploy/exo_com/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import{useState,useEffect}from\"react\";import Produit from\"./Produit\";import{ReactComponent as IconTruck}from\"bootstrap-icons/icons/truck.svg\";import{useCart}from\"react-use-cart\";import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Detail(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),recommandations=_useState4[0],setRecommandations=_useState4[1];var _useParams=useParams(),produitId=_useParams.produitId;var _useCart=useCart(),addItem=_useCart.addItem;useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios('/.netlify/functions/produits');case 2:result=_context.sent;setData(result.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var filteredData=data.filter(function(item){return item.id===parseInt(produitId);});var item=filteredData[0];useEffect(function(){if(data.length>0){var _filteredData=data.filter(function(item){return item.id===parseInt(produitId);});var _item=_filteredData[0];var recommandationsData=data.filter(function(recommandation){return recommandation.categorie.id===_item.categorie.id&&recommandation.id!==_item.id;});setRecommandations(recommandationsData);}},[data,produitId]);return/*#__PURE__*/_jsxs(_Fragment,{children:[item&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-1 d-md-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"img-fluid p-0 mx-0\",style:{height:\"120px\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"h6\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsx(\"button\",{className:\"btn text-white\",style:{backgroundColor:\"#413beb\",fontSize:\"12px\"},onClick:function onClick(){addItem(item);toast.info(\"Un article a été ajouter aux panier\");},children:\"Ajouter au panier\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex d-none d-md-inline-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"img-fluid p-0 mx-0\",style:{width:\"400px\"}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"h3\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"fs-3\",children:item.description})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info my-3 mx-2\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"m-0 text-center\",style:{fontSize:\"10px\"},children:[/*#__PURE__*/_jsx(IconTruck,{className:\"i-va me-2\"}),\" livraison gratuite pour tout achat de plus de 100 mille francs\"]})}),recommandations.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Nous vous recommandons aussi ces articles\"}),recommandations.map(function(item){return/*#__PURE__*/_jsx(Produit,_objectSpread(_objectSpread({},item),{},{item:item}),item.id);})]})})]});}","map":{"version":3,"names":["useParams","axios","useState","useEffect","Produit","ReactComponent","IconTruck","useCart","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Detail","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","recommandations","setRecommandations","_useParams","produitId","_useCart","addItem","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","sent","stop","apply","arguments","filteredData","filter","item","id","parseInt","length","recommandationsData","recommandation","categorie","children","className","src","image","alt","name","style","height","description","backgroundColor","fontSize","onClick","info","width","map","_objectSpread"],"sources":["/data/data/com.termux/files/home/deploy/exo_com/front/src/composant/Detail.js"],"sourcesContent":["import {useParams} from \"react-router-dom\"\nimport axios from \"axios\"\nimport {useState, useEffect} from \"react\"\nimport Produit from \"./Produit\"\nimport { ReactComponent as IconTruck } from \"bootstrap-icons/icons/truck.svg\";\nimport {useCart} from \"react-use-cart\"\n\nimport { toast } from 'react-toastify';\n\n\n\nexport default function Detail (){\n\n    const [data, setData] = useState([])\n    const [recommandations, setRecommandations] = useState([])\n    const {produitId}=useParams()\n    \n    const {addItem} = useCart()\n\n    useEffect(()=>{\n        const fetchData = async()=>{\n            const result = await axios('/.netlify/functions/produits')\n            setData(result.data)\n        }\n        fetchData()\n    }, [])\n    \n    const filteredData = data.filter(item => item.id === parseInt(produitId))\n    const item = filteredData[0]\n\n    useEffect(() => {\n        if (data.length > 0) {\n            const filteredData = data.filter(item => item.id === parseInt(produitId))\n            const item = filteredData[0]\n            const recommandationsData = data.filter(\n                recommandation => recommandation.categorie.id === item.categorie.id && recommandation.id !== item.id\n            )\n            setRecommandations(recommandationsData)\n        }\n    }, [data, produitId])\n\n    return(\n        <>\n            {item && (\n                <>\n                <div className=\"row g-1 d-md-none\">\n                    <div className=\"col-4\">\n                         <img src={item.image} alt={item.name} className=\"img-fluid p-0 mx-0\" style={{height:\"120px\"}}/>\n                    </div>\n                    <div className=\"col-8\">\n                        <p className=\"h6\">{item.name}</p>\n                         <p>{item.description}</p>\n                         <button className=\"btn text-white\" style={{backgroundColor:\"#413beb\", fontSize:\"12px\"}} onClick={() => {\n                          addItem(item);\n                          toast.info(\"Un article a été ajouter aux panier\");\n                        }}>\n                    Ajouter au panier\n                    </button>\n                    </div>\n                </div>\n                \n                \n                <div className=\"d-flex d-none d-md-inline-flex\">\n                    <div className=\"me-3\">\n                        <img src={item.image} alt={item.name} className=\"img-fluid p-0 mx-0\" style={{width:\"400px\"}}/>\n                    </div>\n                    <div>\n                        <p className=\"h3\">{item.name}</p>\n                         <p className=\"fs-3\">{item.description}</p>\n                    </div>\n                </div>\n                \n                </>\n            )}\n            \n            <div className=\"alert alert-info my-3 mx-2\">\n                <p className=\"m-0 text-center\" style={{fontSize:\"10px\"}}>\n                  <IconTruck className=\"i-va me-2\"/> livraison gratuite pour tout achat de plus de 100 mille francs\n                </p>\n              </div>\n            \n            \n\n            {recommandations.length > 0 && (\n                <div className=\"container-fluid\">\n                <div className=\"row g-3\">\n                    <p>Nous vous recommandons aussi ces articles</p>\n                    {recommandations.map((item) => {\n                    return <Produit key={item.id} {...item} item={item} />;\n                  })}\n                </div>\n                </div>\n            )}\n        </>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}